<div class="cont-pai-panel">
  <div class="cont-header-panel">
    <app-card-dashboard
      *ngFor="let cardItem of cards"
      [title]="cardItem.title"
      [value]="cardItem.value"
      [icon]="cardItem.icon"
    ></app-card-dashboard>
  </div>
  <div class="panel-container">
    <div style="display: flex; align-items: center; gap: 1%">
      <h2 class="titulo">Turmas</h2>
      <i
        class="pi pi pi-users"
        style="font-size: 2.5rem; color: var(--p-violet-800); margin-top: 5px"
      ></i>
    </div>

    <div class="carrousel-cont">
      <p-carousel
        [value]="turmas"
        [numVisible]="4"
        [numScroll]="1"
        [circular]="true"
        [responsiveOptions]="responsiveOptions"
        [autoplayInterval]="0"
      >
        <ng-template pTemplate="item" let-turma>
          <div class="card-wrapper">
            <p-card
              header="{{ turma.turma }}"
              subheader="{{ turma.semestre }}"
              class="card-item"
            >
              <div class="card-content">
                <p><strong>Curso:</strong> {{ turma.curso }}</p>
                <p>
                  <strong>Horário:</strong> {{ turma.horarioInicio }} -
                  {{ turma.horarioFim }}
                </p>
                <button
                  pButton
                  type="button"
                  icon="pi pi-users"
                  label="Ver Alunos"
                  class="botao"
                  (click)="onModalAlunos()"
                ></button>
                <button
                  pButton
                  type="button"
                  icon="pi pi-file-edit"
                  label="Criar Prova"
                  class="botao"
                  (click)="onModalProva()"
                ></button>
              </div>
            </p-card>
          </div>
        </ng-template>
      </p-carousel>
    </div>

    <p-dialog
      header="Alunos da Turma"
      [(visible)]="visible"
      [style]="{ width: '50vw' }"
      [modal]="true"
      [closable]="true"
    >
      <div class="card">
        <p-table
          [value]="alunos"
          [paginator]="true"
          [rows]="5"
          [tableStyle]="{ 'min-width': '50rem' }"
          [rowsPerPageOptions]="[5, 10, 20]"
        >
          <ng-template #header>
            <tr>
              <th pSortableColumn="alunoNome" style="width: 20%">
                Name <p-sortIcon field="alunoNome" />
              </th>
              <th pSortableColumn="matricula" style="width: 20%">
                Matricula <p-sortIcon field="matricula" />
              </th>
              <th pSortableColumn="curso" style="width: 20%">
                Curso <p-sortIcon field="curso" />
              </th>
              <th pSortableColumn="mediaFinal" style="width: 20%">
                Nota Final <p-sortIcon field="mediaFinal" />
              </th>
              <th style="width: 20%">Ações</th>
            </tr>
          </ng-template>
          <ng-template #body let-aluno>
            <tr>
              <td>{{ aluno.alunoNome }}</td>
              <td>{{ aluno.matricula }}</td>
              <td>{{ aluno.curso }}</td>
              <td>{{ aluno.mediaFinal }}</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </p-dialog>
  </div>
</div>
